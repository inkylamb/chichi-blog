---
title: 趣味算法加法js实现 
date: 2019-04-04 11:58:00
categories: frontEnd
tags:
- js
- algorithm
---
# 加法实现

## 背景

看见一个以前听过的算法题目现在，在看leetcode的时候无意又看见了，平时工作写javascript的代码居多当然不会去考虑使用逻辑处理来实现加减运算，以前学习组成原理的时候只是关注答题技巧。老师也不是那么注重多余算法实现数学运算。所以当我看到题目只是觉得能做但是下手还是有点困难。所以决定写这个文章来把整个知识点梳理下。

## 原理

在计算机体系中数学运算都是使用逻辑运算来实现的，所以真正的加减法就是两个数据在二进制下面的逻辑运算而不是数学运算。

### 题目

带着问题去学习


不使用运算符 + 和 - ​​​​​​​，计算两整数 ​​​​​​​a 、b ​​​​​​​之和。

```
输入: a = 1, b = 2
输出: 3

```

```
输入: a = -2, b = 3
输出: 1

```

### js的逻辑运算

* && 与运算 结果必须都为true才为ture 

* || 或运算 结果必须都为false才为false

* js的false：在js逻辑运算中，0、”“、null、false、undefined、NaN都会判为false，其他都为true。

* 位运算符与   |  只要有一个为1 那么运算结果就为 1 否则为 0 
* 位运算符或   &  同时为1才能得到1 否则为 0 
* 位运算符异或 ^  两个操作符号一样的话产生 0
* 位运算符非   ～ 转化为二进制反码（但是为啥正数取反为负数不理解）
* 位运算符右移 >> 按照二进制把所有的数字往右移动对应的位数正数补零负数补1
* 位运算符左移 << 按照二进制的方式实现所有的对应的位数实现左移动高位舍弃低位补0 

### 手工计算实例

我们先考虑 0 + 0 = 0； 1 + 0 = 1； 0 + 1 = 1 ； 1 + 1 = 0 从这里看如果补考虑进位的话我们就可以知道这种情况满足异或就可以实现。

然后考虑使用进位实现的话就是使用进位来加上异或的值之后如果进位为 0 就计算结束

```
    1 + 2 
    00001 + 00010
    = 00001 + （00010）取反
    = 00011

```
好了这里的代码就可以整理为

```

/**
 * @param {number} a
 * @param {number} b
 * @return {number}
 */
var getSum = function(a, b) {
    if(a == 0){
        return b
    }
    if(b == 0){
        return a 
    }
    while(b !== 0){
        let preAdd = a & b  // 进位的值
        a = a ^ b
        b = preAdd << 1
    }

    return a
};

```

### 拓展如何实现减法呢

思路就是把减法转化成加法啊

先吧a - b 转化为 a + -b 


```

/**
 * @param {number} a
 * @param {number} b
 * @return {number}
 */
var getSub = function(a, b) {
    if(a == 0){
        return ~b + 1
    }
    if(b == 0){
        return a 
    }
    b = ~b + 1
    while(b !== 0){
        let preAdd = a & b  // 进位的值
        a = a ^ b
        b = preAdd << 1
    }

    return a
};

```

大概这样就可以实现这个目标


